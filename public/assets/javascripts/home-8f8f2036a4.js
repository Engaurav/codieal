{let n=function(){let n=$("#new-post-form");console.log(n),n.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:n.serialize(),success:function(n){console.log(n);let o=e(n.data.post);$(".posts-container").prepend(o),t($(" .delete-post-button",o))},error:function(n){console.log(n.responseText)}})}))},e=function(n){return $(`<div id="post-${n._id}">\n            <a class="delete-post-button" href="/posts/destroy/${n._id}"><i class="fas fa-trash-alt"></i></a>\n    \n            <h6>\n                ${n.user.name}\n            </h6>\n        <p>\n            ${n.content}\n        </p>\n     \n        <label for="down" id="down-arrow">Comments <i class="fas fa-angle-down"></i></label>\n       \n        <div class="comments-container">\n            <%for (comment of post.comments) { %>\n                <%- include('_comment.ejs') -%>\n            <%}%>\n            <div class="add-comment">\n                    <form action="/comments/create" method="POST">\n                        <input type="text" name="content" placeholder="Type Here to add comments... " required>\n                        <input type="hidden" name="post" value="<%= post.id %>">\n                        <input type="submit" value="Add Comment">\n                    </form>\n            </div>\n        </div>\n    </div>`)},t=function(n){$(n).click((function(e){console.log(n),e.preventDefault(),$.ajax({type:"get",url:$(n).prop("href"),success:function(n){console.log(n),$(`#post-${n.data.post}`).remove()},err:function(n){console.log(n.responseText)}})}))};n()}$(".home-container .posts-container div label").on("click",(function(){"none"==$(this).next().css("display")?($(".comments-container").css("display","none"),$(this).next().css("display","block")):($(".comments-container").css("display","none"),$(this).next().css("display","none"))}));